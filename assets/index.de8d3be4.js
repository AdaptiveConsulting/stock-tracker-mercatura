var se=Object.defineProperty,re=Object.defineProperties;var ae=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var ne=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable;var O=(e,t,r)=>t in e?se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,g=(e,t)=>{for(var r in t||(t={}))ne.call(t,r)&&O(e,r,t[r]);if(D)for(var r of D(t))oe.call(t,r)&&O(e,r,t[r]);return e},S=(e,t)=>re(e,ae(t));import{j as l,a as s,r as d,X as q,T as U,R as E,L,Y as ce,b as le,c as ie,d as M,e as C,C as H,F as de,f as ue,g as _e}from"./vendor.f0c33521.js";const he=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const n of c.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function r(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerpolicy&&(c.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?c.credentials="include":o.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=r(o);fetch(o.href,c)}};he();const x=e=>"$"+e,K=e=>{const t=e.toString();if(t.length<=3)return t;const r=["","K","M","B","T"],a=Math.floor(e.toString().length/3),o=Math.floor(e.toString().length%3)===0?a-1:a,c=Math.floor(e)/Math.pow(1e3,o),n=e.toString().length%3==0?a-1:a;return c.toFixed(2)+r[n]};const me=({stats:{open:e,high:t,low:r,previousClose:a,week52High:o,week52Low:c,marketCap:n,peRatio:i,dividendYield:u,incomeNetPerWabsoSplitAdjusted:_,volume:m,avgTotalVolume:h}})=>l("div",{className:"stats-container",children:[l("ul",{className:"stats__list",children:[l("li",{children:["Open ",s("span",{children:e?x(e):"-"})]}),l("li",{children:["High ",s("span",{children:t?x(t):"-"})]}),l("li",{children:["Low ",s("span",{children:r?x(r):"-"})]}),l("li",{children:["Previous Close ",s("span",{children:x(a)})]})]}),l("ul",{className:"stats__list middle-section",children:[l("li",{children:["Day Range"," ",s("span",{children:t?x(`${t} - ${r}`):"-"})]}),l("li",{children:["52 Week Range"," ",s("span",{children:x(`${o} - ${c}`)})]}),l("li",{children:["Market Cap ",s("span",{children:K(n)})]}),l("li",{children:["P/E Ratio ",s("span",{children:i})]})]}),l("ul",{className:"stats__list",children:[l("li",{children:["Dividend Yield"," ",s("span",{children:(u==null?void 0:u.toFixed(2))+"%"})]}),l("li",{children:["Earnings Per Share"," ",s("span",{children:x(_==null?void 0:_.toFixed(2))})]}),l("li",{children:["Volume ",s("span",{children:m!=null?m:"-"})]}),l("li",{children:["Total Avg. Volume"," ",s("span",{children:K(h)})]})]})]}),y=e=>new Promise((t,r)=>{e.ok?e.json().then(a=>t(a)):r(`server responded with error code: ${e.status} ${e.statusText}`)}),B="https://sandbox.iexapis.com/stable/";async function pe(e){const t=`${B}stock/${e}/quote?token=Tpk_b2d8e00d9a3542d68e4a8767edb9f512`,r=`${B}time-series/FUNDAMENTAL_VALUATIONS/${e}?token=Tpk_b2d8e00d9a3542d68e4a8767edb9f512`,a=await fetch(t),o=await fetch(r),c=await y(a),n=await y(o);return g(g({},c),n[0])}const V=d.exports.createContext("AAPL"),f=()=>d.exports.useContext(V),ye=({children:e})=>{const[t,r]=d.exports.useState("AAPL");return s(V.Provider,{value:{symbol:t,setSymbol:r},children:e})},k=()=>{const[e,t]=d.exports.useState(1);return d.exports.useEffect(()=>{let r=!1;const a=setInterval(()=>{t(o=>(o>=1&&(r=!1),o<=0&&(r=!0),r?o+.01:o-.01))},15);return()=>clearInterval(a)},[]),e};function fe(){const e=k();return l("div",{className:"stats__placeholder",style:{opacity:e},children:[l("div",{className:"stats__placeholder__column",children:[l("div",{className:"stats__placeholder__row",children:[s("div",{className:"stats__placeholder__row__title"}),s("div",{className:"stats__placeholder__row__content"})]}),l("div",{className:"stats__placeholder__row",children:[s("div",{className:"stats__placeholder__row__title"}),s("div",{className:"stats__placeholder__row__content"})]}),l("div",{className:"stats__placeholder__row",children:[s("div",{className:"stats__placeholder__row__title"}),s("div",{className:"stats__placeholder__row__content"})]}),l("div",{className:"stats__placeholder__row",children:[s("div",{className:"stats__placeholder__row__title"}),s("div",{className:"stats__placeholder__row__content"})]})]}),l("div",{className:"stats__placeholder__column stats__placeholder__column__center",children:[l("div",{className:"stats__placeholder__row",children:[s("div",{className:"stats__placeholder__row__title"}),s("div",{className:"stats__placeholder__row__content"})]}),l("div",{className:"stats__placeholder__row",children:[s("div",{className:"stats__placeholder__row__title"}),s("div",{className:"stats__placeholder__row__content"})]}),l("div",{className:"stats__placeholder__row",children:[s("div",{className:"stats__placeholder__row__title"}),s("div",{className:"stats__placeholder__row__content"})]}),l("div",{className:"stats__placeholder__row",children:[s("div",{className:"stats__placeholder__row__title"}),s("div",{className:"stats__placeholder__row__content"})]})]}),l("div",{className:"stats__placeholder__column",children:[l("div",{className:"stats__placeholder__row",children:[s("div",{className:"stats__placeholder__row__title"}),s("div",{className:"stats__placeholder__row__content"})]}),l("div",{className:"stats__placeholder__row",children:[s("div",{className:"stats__placeholder__row__title"}),s("div",{className:"stats__placeholder__row__content"})]}),l("div",{className:"stats__placeholder__row",children:[s("div",{className:"stats__placeholder__row__title"}),s("div",{className:"stats__placeholder__row__content"})]}),l("div",{className:"stats__placeholder__row",children:[s("div",{className:"stats__placeholder__row__title"}),s("div",{className:"stats__placeholder__row__content"})]})]})]})}const W=d.exports.createContext(0),N=()=>d.exports.useContext(W),ve=({children:e})=>{const[t,r]=d.exports.useState(-1);return d.exports.useEffect(()=>{console.log(t)},[t]),s(W.Provider,{value:{renderFlag:t,setRenderFlag:r},children:e})},b={chart:0,summary:1,livePrice:2,newsFeed:3,search:4,stats:5,topPeers:6},ge=()=>{const[e,t]=d.exports.useState({status:"loading",body:null}),{symbol:r}=f(),{renderFlag:a}=N(),o=async()=>{try{const n=await pe(r);t({status:"resolved",body:n})}catch(n){console.error("Error requesting key statistic data: "+n),t({status:"error",body:null})}};return d.exports.useEffect(()=>{a===b.stats?o():a===-1&&t({status:"loading",body:null})},[r,a]),(()=>{let n=null;return e.status==="resolved"?n=s(me,{stats:e.body}):(e.status==="loading"||e.status==="error")&&(n=s(fe,{})),l("div",{className:"stats",children:[s("h2",{className:"stats__title",children:"Key Statistics"}),n]})})()},p={accentPrimary:"#aaabd1",accentBeAware2:"#ffc57f",coreSecondary2:"#f1f2f2",coreSecondary3:"#eaebeb",daySeparator:"#7fb3ff",keys:"#7f7f7f"};const X="https://sandbox.iexapis.com/stable/",G="token=Tpk_b2d8e00d9a3542d68e4a8767edb9f512",Ne=async e=>{const t=await fetch(`${X}/stock/${e}/intraday-prices?${G}&chartInterval=10`);return await y(t)},be=async e=>{const t=await fetch(`${X}/stock/${e}/chart/5dm?${G}`);return await y(t)},Y=e=>e.filter(t=>t.average!==null),we=e=>{const[t,r]=d.exports.useState({status:"loading",body:null}),[a,o]=d.exports.useState({min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY}),{renderFlag:c}=N();return d.exports.useEffect(()=>{(async()=>{if(c===b.chart)try{const n=await be(e);console.log("Historic prices retrieved: "),console.log(n);const i=Y(n);o(j(i)),i.length&&i.push(S(g({},i[i.length-1]),{minute:"16:00"}));const u=i.map((_,m)=>S(g({},_),{minute:m.toString()+" "+_.minute}));r({status:"resolved",body:u})}catch(n){console.error("Error requesting historical prices: "+n),r({status:"error",body:null})}else c===-1&&r({status:"loading",body:null})})()},[e,c]),[t,r,a]},xe=e=>{const[t,r]=d.exports.useState({status:"loading",body:null}),[a,o]=d.exports.useState({min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY}),{renderFlag:c}=N();return d.exports.useEffect(()=>{(async()=>{if(c===b.chart)try{const n=await Ne(e);console.log("Intraday prices retrieved: "),console.log(n);const i=Y(n);o(j(i)),r({status:"resolved",body:i})}catch(n){console.error("Error requesting intraday prices: "+n),r({status:"error",body:null})}else c===-1&&r({status:"loading",body:null})})()},[e,c]),[t,a]},j=e=>{const t=e.map(o=>o.average),r=Math.floor(Math.min(...t)),a=Math.floor(Math.max(...t)+1);return{min:r,max:a}},Se=()=>{const e=d.exports.useRef(null);let t={left:0,x:0};const r=n=>{t={left:e.current.scrollLeft,x:n.clientX},document.addEventListener("mousemove",a),document.addEventListener("mouseup",o)},a=n=>{const i=n.clientX-t.x;e.current.scrollLeft=t.left-i},o=n=>{document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",o)};return[e,r,n=>{e.current&&(e.current.scrollLeft=n)}]},ke=({x:e,dx:t,y:r,dy:a,style:o,payload:c})=>s(U,{x:e+t,y:r+a,fontSize:16,style:o,children:c.value}),I=({data:e,daySize:t,style:r,isHidden:a})=>{const o=new Set(e.map(n=>n.date)),c=Math.floor(e.length/[...o].length);return s(q,{xAxisId:"top",type:"category",dataKey:"date",tick:s(ke,{}),stroke:p.daySeparator,tickLine:!a,interval:c-1,allowDuplicatedCategory:!0,orientation:"top",style:r,axisLine:!1,dx:t/2-70,dy:-10,margin:{bottom:50}})},$e=({data:e,axisProps:t,min:r,max:a})=>s("div",{className:"static-y-axis",children:s(E,{height:"100%",width:61,children:l(L,{data:e,margin:{bottom:40},children:[F({axisProps:t,min:r,max:a}),I({data:e,style:t.style,isHidden:!0})]})})});function F({axisProps:e,min:t,max:r,hide:a}){const{tickSize:o,tickMargin:c,tickLine:n,stroke:i,strokeWidth:u,style:_}=e;return s(ce,{type:"number",dataKey:"average",domain:[t,r],tickSize:o,tickCount:5,tickMargin:c,tickLine:n,stroke:i,strokeWidth:u,style:_,hide:a})}const J=e=>{const t=Pe(e);if(typeof t!="string"||!t.match(/(\d?\d:\d\d){1}/))throw new Error("cleanTimeString must be a string in the format m:hh or mm:hh");{const r=Number.parseInt(t.slice(0,-2));if(r===12)return t+" PM";const a=r>12?"PM":"AM",o=t.slice(-2);return`${r%12}:${o} ${a}`}},Pe=e=>{if(typeof e=="string"){const t=e.indexOf(" ");return e.slice(t+1)}return e},Re=({x:e,y:t,payload:r,style:a,index:o})=>{let c=J(r.value);c==="4:00 PM"&&(c="");let n=c==="9:30 AM"?"start":"middle";return s(U,{x:e,y:t+10,textAnchor:n,fill:p.keys,style:a,fontSize:12,children:c})};function z({axisProps:e,interval:t}){const{tickSize:r,tickMargin:a,tickLine:o,stroke:c,strokeWidth:n,style:i}=e;return s(q,{type:"category",dataKey:"minute",tick:s(Re,{}),axisLine:!1,interval:t-1,tickSize:r,tickMargin:a,tickLine:o,stroke:c,strokeWidth:n,style:i,allowDuplicatedCategory:!1})}const Ae=e=>e.slice(-2),Q=e=>{const t=new Array(Math.ceil(e.data.length/e.interval)).fill("");return t.map((r,a)=>{const o=a*e.interval,n=Number.parseInt(Ae(e.data[o].date))%2==0?0:.1,i=e.data[o].minute,u=a===t.length-1?e.data[e.data.length-1]:e.data[o+e.interval].minute;return s(le,{x1:i,x2:u,y1:e.min,y2:e.max,fill:a%2!=0?`rgba(0, 0, 0, ${.05+n})`:`rgba(0, 0, 0, ${0})`},a)})},Z=({style:e})=>s(ie,{isAnimationActive:!1,itemStyle:e,labelStyle:e,content:s(Ee,{})});function Ee({label:e,payload:t,active:r}){if(r&&t&&t.length){const a=J(e);return l("div",{className:"custom-tooltip",children:[s("div",{className:"custom-tooltip__label",children:a}),l("div",{className:"custom-tooltip__content",children:["Price: "," ",s("span",{children:+t[0].payload.average.toFixed(2)})]})]})}return null}const Le=({data:e})=>{const t=new Set(e.map(a=>a.date)),r=Math.floor(e.length/[...t].length);return[...t].map((a,o)=>s(M,{x:e[o*r].minute,stroke:p.daySeparator},a))},Me=({axisProps:e,data:t,interval:r,min:a,max:o,daySize:c})=>{const n=s(C,{isAnimationActive:!1,type:"linear",dataKey:"average",dot:!1,stroke:p.accentPrimary,strokeWidth:2}),i=s(H,{stroke:"rgba(0, 0, 0, 0.05)",strokeWidth:1});return s(E,{height:"100%",width:c*5,children:l(L,{isAnimationActive:!1,data:t,margin:{right:0,bottom:10},children:[Q({data:t,interval:r,min:a,max:o}),i,n,z({axisProps:e,interval:r}),F({axisProps:e,min:a,max:o,hide:!0}),I({data:t,daySize:c,style:e.style,isHidden:!1}),Z({style:e.style}),Le({data:t})]})})},Ce=e=>{const t=e.indexOf(" ");return e.slice(t+1)},Ie=({axisProps:e,previousDayData:t,currentDayData:r,interval:a,min:o,max:c,daySize:n})=>{const i=t.map(h=>S(g({},h),{minute:Ce(h.minute)})),u=s(C,{isAnimationActive:!1,dataKey:"average",name:"Average",dot:!1,stroke:p.accentPrimary,data:r,strokeWidth:2}),_=s(C,{isAnimationActive:!1,type:"linear",dataKey:"average",dot:!1,stroke:p.accentPrimary,data:i,strokeWidth:2,hide:!0}),m=s(H,{stroke:"rgba(0, 0, 0, 0.05)",strokeWidth:1});return s(E,{height:"100%",width:n,children:l(L,{data:r,margin:{right:0,bottom:10},padding:{left:10},children:[Q({data:i,interval:a,min:o,max:c}),m,_,u,z({axisProps:e,interval:a}),F({axisProps:e,min:o,max:c,hide:!0}),I({data:r,daySize:n,style:e.style}),s(M,{y:t[t.length-1].average,strokeDasharray:"8 5",strokeWidth:1,stroke:p.accentPrimary}),s(M,{x:"09:30",strokeWidth:2,stroke:p.daySeparator}),Z({style:e.style})]})})};function Fe(){const e=k();return s("div",{className:"chart__placeholder",style:{opacity:e}})}const T={tickSize:12,tickMargin:10,tickLine:{stroke:p.coreSecondary3},stroke:p.coreSecondary3,strokeWidth:.5,style:{fontFamily:"Roboto",userSelect:"none",fill:p.keys}},Te=()=>{const[e,t]=d.exports.useState(!0),{symbol:r}=f(),[a,o,c]=we(r),[n,i]=xe(r),[u,_,m]=Se(),h=3,A=1200,w=Math.min(i.min,c.min),R=Math.max(i.max,c.max);return d.exports.useEffect(()=>{if(m(u.current.scrollWidth),!e&&n.status==="resolved"){const v=[...a.body];v[a.body.length-1]=S(g({},v[a.body.length-1]),{average:n.body[0].average}),o({status:a.status,body:v})}},[e]),d.exports.useEffect(()=>{n.status!=="loading"&&a.status==="resolved"?t(!1):t(!0)},[n,a]),s("div",{className:"chart__container",ref:u,onMouseDown:_,children:(()=>{const v=[];return a.status!=="resolved"&&n.status!=="resolved"?s(Fe,{}):(a.status==="resolved"&&(v.push(s($e,{data:a.body||n.body,interval:h,min:w,max:R,axisProps:T},0)),v.push(s(Me,{daySize:A,axisProps:T,data:a.body,interval:h,min:w,max:R},1)),n.status==="resolved"&&v.push(s(Ie,{daySize:A,axisProps:T,previousDayData:De(a.body),currentDayData:n.body,interval:h,min:w,max:R},2))),s("div",{className:"chart__inner",children:v}))})()})},De=e=>{try{const t=e[e.length-1].date;return e.filter(r=>r.date===t).slice(0,-1)}catch(t){console.error("Error filtering previous day in chart from prices array: "+t),console.error("Prices array: "),console.error(e)}};const Oe="https://sandbox.iexapis.com/stable/",qe="token=Tpk_b2d8e00d9a3542d68e4a8767edb9f512",Ue=async e=>{const t=await fetch(`${Oe}/stock/${e}/news/last/3?${qe}`);return await y(t)},$=(e,t)=>{const r=Math.floor(e/t),a=e%t;return[r,a]},P={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2628e6,year:3154e7},He=e=>{let t="Error";const r=Date.now()-e,[a,o]=$(r,P.year);a>0&&(t="Over a year");const[c,n]=$(o,P.month);c>0&&(c===1?t="1 month":t=`${c} months`);const[i,u]=$(n,P.day);i>0&&(i===1?t="1 day":t=`${i} days`);const[_,m]=$(u,P.hour);_>0&&(_===1?t="1 hour":t=`${_} hours`);const[h,A]=$(m,P.minute);h>0&&(h===1?t="1 minute":t=`${h} minutes`);const[w,R]=$(A,P.second);return w>0&&(w===1?t="1 second":t=`${w} seconds`),R>0?"Now":t+" ago"};function Ke(){const e=k();return l("div",{style:{opacity:e},children:[l("div",{className:"news__placeholder",children:[s("div",{className:"news__placeholder__title"}),s("div",{className:"news__placeholder__title news__placeholder__title--short"}),s("div",{className:"news__placeholder__footer"})]}),l("div",{className:"news__placeholder",children:[s("div",{className:"news__placeholder__title"}),s("div",{className:"news__placeholder__title news__placeholder__title--short"}),s("div",{className:"news__placeholder__footer"})]}),l("div",{className:"news__placeholder",children:[s("div",{className:"news__placeholder__title"}),s("div",{className:"news__placeholder__title news__placeholder__title--short"}),s("div",{className:"news__placeholder__footer"})]})]})}function Be(){const[e,t]=d.exports.useState({status:"loading",body:null}),{symbol:r}=f(),{renderFlag:a}=N();d.exports.useEffect(()=>{a===b.newsFeed?Ue(r).then(n=>{t({status:"resolved",body:n})}).catch(n=>{console.error("Error requesting news data: "+n),t({status:"error",body:null})}):a===-1&&t({status:"loading",body:null})},[r,a]);const o=[Date.now()-1e5,Date.now()-36e5*2,Date.now()-864e5];return(()=>{let n=null;return e.status==="resolved"&&(n=e.body.map((i,u)=>s(Ve,{link:i.url,content:i.headline,timeSincePublication:o[u],source:i.source},i.headline))),(e.status==="error"||e.status==="loading")&&(n=s(Ke,{})),l("div",{className:"newsfeed__background",children:[s("h2",{className:"latest-news-text",children:"Latest News"}),n]})})()}function Ve({link:e,content:t,timeSincePublication:r,source:a}){const o=He(r);return l("div",{className:"article",children:[s("a",{href:e,children:s("h3",{className:"article__content",children:t})}),s("p",{className:"article__time-source",children:`${o} - ${a}`})]})}const We="https://sandbox.iexapis.com/stable",ee=async e=>{const t=`${We}/stock/${e}/company?token=Tpk_b2d8e00d9a3542d68e4a8767edb9f512`,r=await fetch(t);return await y(r)};function te(){const e=k();return l("div",{className:"summary-placeholder",style:{opacity:e},children:[s("div",{className:"summary-placeholder__title"}),s("div",{className:"summary-placeholder__content"}),s("div",{className:"summary-placeholder__content"}),s("div",{className:"summary-placeholder__content summary-placeholder__content--short"}),s("div",{className:"summary-placeholder__content"}),s("div",{className:"summary-placeholder__content summary-placeholder__content--short"}),s("div",{className:"summary-placeholder__content"}),s("div",{className:"summary-placeholder__content"}),s("div",{className:"summary-placeholder__content summary-placeholder__content--short"})]})}const Xe=()=>{const[e,t]=d.exports.useState({status:"loading",body:null}),{symbol:r}=f(),{renderFlag:a}=N(),o=async()=>{try{const n=await ee(r),i=n.description.substring(0,500).concat("..."),u=S(g({},n),{description:i});t({status:"resolved",body:u})}catch(n){console.error("Error retreiving company summary data: "+n),t({status:"error",body:null})}};return d.exports.useEffect(()=>{a===b.summary?o():a===-1&&t({status:"loading",body:null})},[r,a]),(()=>{let n=null;return e.status==="loading"&&(n=s(te,{})),e.status==="error"&&(n=s(te,{})),e.status==="resolved"&&(n=l(de,{children:[s("div",{className:"company__name",children:`${e.body.companyName} (${e.body.symbol})`}),s("div",{className:"company__website",children:e.body.website}),s("div",{className:"company__description",children:e.body.description})]})),l("div",{className:"company__summary",children:[s("h2",{children:"Company Summary"}),n]})})()};async function Ge(e){const t=await Ye(!0);return await y(t)}const Ye=e=>{const t=["QCOM","MSI","ERIC","AMZN","GOOGL","MSFT","DELL"],a={ok:!0,json:()=>Promise.resolve(t)},o={ok:!1};return e?Promise.resolve(a):Promise.reject(o)};function je(){const e=k();return l("div",{className:"peers__placeholder",style:{opacity:e},children:[s("div",{className:"peers__placeholder__button"}),s("div",{className:"peers__placeholder__button"}),s("div",{className:"peers__placeholder__button"}),s("div",{className:"peers__placeholder__button"}),s("div",{className:"peers__placeholder__button"}),s("div",{className:"peers__placeholder__button"}),s("div",{className:"peers__placeholder__button"})]})}const Je=()=>{const[e,t]=d.exports.useState({status:"loading",body:null}),{symbol:r,setSymbol:a}=f(),{renderFlag:o}=N();return d.exports.useEffect(()=>{o===b.topPeers?Ge().then(n=>{t({status:"resolved",body:n})}).catch(n=>{console.error("Error retrieving top peers data: "+n),t({status:"error",body:null})}):o===-1&&t({status:"loading",body:null})},[r,o]),(()=>{let n=null;return e.status==="resolved"?n=s("div",{className:"peers__buttons",children:e.body.map(i=>s("button",{className:"peer",onClick:()=>a(i),children:i},i))}):(e.status==="error"||e.status==="loading")&&(n=s(je,{})),l("div",{className:"top_peers",children:[s("h2",{className:"peers__title",children:"Top Peers"}),n]})})()};function ze(){const e=k();return l("div",{className:"live-price__placeholder",style:{opacity:e},children:[s("div",{className:"live-price__placeholder__price"}),s("div",{className:"live-price__placeholder__arrow"}),s("div",{className:"live-price__placeholder__change"})]})}const Qe="https://sandbox.iexapis.com/stable",Ze="token=Tpk_b2d8e00d9a3542d68e4a8767edb9f512",et=async e=>{const t=await fetch(`${Qe}/stock/${e}/quote?${Ze}`);return await y(t)},tt=e=>{const[t,r]=d.exports.useState({status:"loading",body:null}),a=`https://sandbox-sse.iexapis.com/stable/stocksUS?symbols=${e}&token=Tpk_b2d8e00d9a3542d68e4a8767edb9f512`,{renderFlag:o}=N();return d.exports.useEffect(()=>{if(o>b.livePrice){const c=new EventSource(a);return c.onopen=()=>{console.log("SSE connection established")},c.onmessage=n=>{JSON.parse(n.data).length!==0?r({status:"resolved",body:JSON.parse(n.data)}):console.log("Just got an empty message")},c.onerror=async n=>{console.log(n),c.close();try{const i=await et(e);r({status:"resolved",body:[i]})}catch(i){console.error(i),r({status:"error",body:i})}},()=>c.close()}else o===-1&&r({status:"loading",body:null})},[a,e,o]),t};var st="./assets/redarrow.13e4b84f.svg",rt="./assets/normal.957bc0c0.svg";const at=({searchFocused:e})=>{const{symbol:t}=f(),r=tt(t);return(()=>r.status==="resolved"?s(nt,{price:r.body,searchFocused:e}):r.status==="error"?s(ze,{}):null)()},nt=({price:e,searchFocused:t})=>l("div",{className:`price__display ${t?"price__display--hidden":null}`,children:[s("span",{className:"price",children:`$${e==null?void 0:e[0].latestPrice.toFixed(2)}`}),s("img",{className:"arrow",src:(e==null?void 0:e[0].change)>0?rt:st,alt:"down arrow"}),s("span",{className:(e==null?void 0:e[0].change)>0?"change positive":"change negative",children:`${e==null?void 0:e[0].change} | ${e==null?void 0:e[0].changePercent.toFixed(2)}%`})]}),ot=({suggestions:e})=>{const{setSymbol:t}=f();return s("div",{className:"suggestions",children:l("ul",{className:"suggestions__list",children:[s("div",{className:"suggestions__title",children:"Stock"}),e==null?void 0:e.map((r,a)=>l("li",{className:"suggestions__stock",onClick:()=>t(r.symbol),children:[r.symbol," - ",r.name]},a))]})})},ct="https://sandbox.iexapis.com/stable/",lt=async e=>{const t=`${ct}search/${e}?token=Tpk_b2d8e00d9a3542d68e4a8767edb9f512`;try{const r=await fetch(t);return await y(r)}catch(r){console.log(r)}},it=e=>{const[t,r]=d.exports.useState();return d.exports.useEffect(()=>(e&&lt(e).then(a=>{r(a.slice(0,-2))}),()=>r(null)),[e]),t!=null?t:null},dt=({focused:e,onFocus:t,onBlur:r})=>{const[a,o]=d.exports.useState(""),c=it(a),{symbol:n}=f(),i=({target:u})=>{o(u.value)};return d.exports.useEffect(()=>{ee(n).then(u=>{o(`${u.symbol} - ${u.companyName}`)}).catch(u=>{console.error("Error requesting company info for search bar: "+u)})},[n]),l("div",{className:"searchbar",children:[s("div",{className:"field",children:s("input",{type:"text",id:"search",value:a,placeholder:"Enter a stock, symbol or currency",onChange:i,onFocus:t,onBlur:r})}),e?s(ot,{suggestions:c}):null]})},ut=({focused:e,setFocused:t})=>l("div",{className:e?"stock__header":"stock__header grayborder",children:[s(dt,{focused:e,onFocus:()=>t(!0)}),s(at,{searchFocused:e})]});var _t="./assets/ra-logo.70145db3.svg";function ht(){const[e,t]=d.exports.useState(!1),{symbol:r}=f(),{setRenderFlag:a}=N();return d.exports.useEffect(()=>{a(-1);const o=setInterval(()=>{a(c=>c+1)},[200]);setTimeout(()=>{clearInterval(o)},[Object.keys(b).length*200])},[r]),l("div",{className:"App",children:[s("div",{className:"logo-section",onClick:()=>t(!1),children:s("img",{src:_t,height:120,className:"logo",alt:"Reactive Analystics Logo"})}),l("div",{className:"main-section",children:[s(ut,{focused:e,setFocused:t}),s(Te,{}),s(ge,{})]}),l("div",{className:"news-summary-section",children:[s(Be,{}),s(Xe,{}),s(Je,{})]})]})}ue.render(s(_e.StrictMode,{children:s(ve,{children:s(ye,{children:s(ht,{})})})}),document.getElementById("root"));
