var _e=Object.defineProperty,he=Object.defineProperties;var me=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var pe=Object.prototype.hasOwnProperty,fe=Object.prototype.propertyIsEnumerable;var q=(e,t,r)=>t in e?_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,y=(e,t)=>{for(var r in t||(t={}))pe.call(t,r)&&q(e,r,t[r]);if(U)for(var r of U(t))fe.call(t,r)&&q(e,r,t[r]);return e},S=(e,t)=>he(e,me(t));import{j as l,a as s,r as u,X as H,T as I,R as P,L as D,Y as ye,b as ve,c as Ne,d as M,e as C,C as K,F as B,f as ge,g as be}from"./vendor.f0c33521.js";const we=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const n of c.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function r(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerpolicy&&(c.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?c.credentials="include":o.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=r(o);fetch(o.href,c)}};we();const x=e=>"$"+e,X=e=>{const t=e.toString();if(t.length<=3)return t;const r=["","K","M","B","T"],a=Math.floor(e.toString().length/3),o=Math.floor(e.toString().length%3)===0?a-1:a,c=Math.floor(e)/Math.pow(1e3,o),n=e.toString().length%3==0?a-1:a;return c.toFixed(2)+r[n]};const Re=({stats:{open:e,high:t,low:r,previousClose:a,week52High:o,week52Low:c,marketCap:n,peRatio:d,dividendYield:_,incomeNetPerWabsoSplitAdjusted:h,volume:m,avgTotalVolume:p}})=>l("div",{className:"stats-container",children:[l("ul",{className:"stats__list",children:[l("li",{children:["Open ",s("span",{children:e?x(e):"-"})]}),l("li",{children:["High ",s("span",{children:t?x(t):"-"})]}),l("li",{children:["Low ",s("span",{children:r?x(r):"-"})]}),l("li",{children:["Previous Close ",s("span",{children:x(a)})]})]}),l("ul",{className:"stats__list middle-section",children:[l("li",{children:["Day Range"," ",s("span",{children:t?x(`${t} - ${r}`):"-"})]}),l("li",{children:["52 Week Range"," ",s("span",{children:x(`${o} - ${c}`)})]}),l("li",{children:["Market Cap ",s("span",{children:X(n)})]}),l("li",{children:["P/E Ratio ",s("span",{children:d})]})]}),l("ul",{className:"stats__list",children:[l("li",{children:["Dividend Yield"," ",s("span",{children:(_==null?void 0:_.toFixed(2))+"%"})]}),l("li",{children:["Earnings Per Share"," ",s("span",{children:x(h==null?void 0:h.toFixed(2))})]}),l("li",{children:["Volume ",s("span",{children:m!=null?m:"-"})]}),l("li",{children:["Total Avg. Volume"," ",s("span",{children:X(p)})]})]})]}),v=e=>new Promise((t,r)=>{e.ok?e.json().then(a=>t(a)):r(`server responded with error code: ${e.status} ${e.statusText}`)}),Y="https://sandbox.iexapis.com/stable/";async function Se(e){const t=`${Y}stock/${e}/quote?token=Tpk_b2d8e00d9a3542d68e4a8767edb9f512`,r=`${Y}time-series/FUNDAMENTAL_VALUATIONS/${e}?token=Tpk_b2d8e00d9a3542d68e4a8767edb9f512`,a=await fetch(t),o=await fetch(r),c=await v(a),n=await v(o);return y(y({},c),n[0])}const j=u.exports.createContext({symbol:"AAPL",setSymbol:()=>{}}),N=()=>u.exports.useContext(j),xe=({children:e})=>{const[t,r]=u.exports.useState("AAPL");return s(j.Provider,{value:{symbol:t,setSymbol:r},children:e})},E=()=>{const[e,t]=u.exports.useState(1);return u.exports.useEffect(()=>{let r=!1;const a=setInterval(()=>{t(o=>(o>=1&&(r=!1),o<=0&&(r=!0),r?o+.01:o-.01))},15);return()=>clearInterval(a)},[]),e};function W(){const e=E();return l("div",{className:"stats__placeholder",style:{opacity:e},children:[l("div",{className:"stats__placeholder__column",children:[l("div",{className:"stats__placeholder__row",children:[s("div",{className:"stats__placeholder__row__title"}),s("div",{className:"stats__placeholder__row__content"})]}),l("div",{className:"stats__placeholder__row",children:[s("div",{className:"stats__placeholder__row__title"}),s("div",{className:"stats__placeholder__row__content"})]}),l("div",{className:"stats__placeholder__row",children:[s("div",{className:"stats__placeholder__row__title"}),s("div",{className:"stats__placeholder__row__content"})]}),l("div",{className:"stats__placeholder__row",children:[s("div",{className:"stats__placeholder__row__title"}),s("div",{className:"stats__placeholder__row__content"})]})]}),l("div",{className:"stats__placeholder__column stats__placeholder__column__center",children:[l("div",{className:"stats__placeholder__row",children:[s("div",{className:"stats__placeholder__row__title"}),s("div",{className:"stats__placeholder__row__content"})]}),l("div",{className:"stats__placeholder__row",children:[s("div",{className:"stats__placeholder__row__title"}),s("div",{className:"stats__placeholder__row__content"})]}),l("div",{className:"stats__placeholder__row",children:[s("div",{className:"stats__placeholder__row__title"}),s("div",{className:"stats__placeholder__row__content"})]}),l("div",{className:"stats__placeholder__row",children:[s("div",{className:"stats__placeholder__row__title"}),s("div",{className:"stats__placeholder__row__content"})]})]}),l("div",{className:"stats__placeholder__column",children:[l("div",{className:"stats__placeholder__row",children:[s("div",{className:"stats__placeholder__row__title"}),s("div",{className:"stats__placeholder__row__content"})]}),l("div",{className:"stats__placeholder__row",children:[s("div",{className:"stats__placeholder__row__title"}),s("div",{className:"stats__placeholder__row__content"})]}),l("div",{className:"stats__placeholder__row",children:[s("div",{className:"stats__placeholder__row__title"}),s("div",{className:"stats__placeholder__row__content"})]}),l("div",{className:"stats__placeholder__row",children:[s("div",{className:"stats__placeholder__row__title"}),s("div",{className:"stats__placeholder__row__content"})]})]})]})}const J=u.exports.createContext({renderFlag:0,setRenderFlag:()=>{}}),b=()=>u.exports.useContext(J),Ee=({children:e})=>{const[t,r]=u.exports.useState(-1);return u.exports.useEffect(()=>{console.log(t)},[t]),s(J.Provider,{value:{renderFlag:t,setRenderFlag:r},children:e})},w={chart:2,summary:1,livePrice:2,newsFeed:3,search:4,stats:5,topPeers:6},i={RESOLVED:"resolved",LOADING:"loading",ERROR:"error"},Le=()=>{const[e,t]=u.exports.useState({status:i.LOADING}),{symbol:r}=N(),{renderFlag:a}=b(),o=async()=>{try{const n=await Se(r);t({status:i.RESOLVED,body:n})}catch(n){console.error("Error requesting key statistic data: "+n),t({status:i.ERROR})}};return u.exports.useEffect(()=>{a===w.stats?o():a===-1&&t({status:i.LOADING})},[r,a]),(()=>{let n=null;if(e.status===i.LOADING)n=s(W,{});else if(e.status===i.ERROR)n=s(W,{});else if(e.status===i.RESOLVED)n=e.body?s(Re,{stats:e.body}):null;else throw Error("Unrecognised state status in stats component: "+e.status);return l("div",{className:"stats",children:[s("h2",{className:"stats__title section-heading",children:"Key Statistics"}),n]})})()},f={accentPrimary:"#aaabd1",accentBeAware2:"#ffc57f",coreSecondary2:"#f1f2f2",coreSecondary3:"#eaebeb",daySeparator:"#c3c4de",keys:"#7f7f7f"};const z="https://sandbox.iexapis.com/stable/",Q="token=Tpk_b2d8e00d9a3542d68e4a8767edb9f512",ke=async e=>{const t=await fetch(`${z}/stock/${e}/intraday-prices?${Q}&chartInterval=10`);return await v(t)},$e=async e=>{const t=await fetch(`${z}/stock/${e}/chart/5dm?${Q}`);return await v(t)},Z=e=>e.filter(t=>t.average!==null),Ae=e=>{const[t,r]=u.exports.useState({status:"loading",body:[]}),[a,o]=u.exports.useState({min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY}),{renderFlag:c}=b();return u.exports.useEffect(()=>{(async()=>{if(c===w.chart)try{const n=await $e(e);console.log("Historic prices retrieved: "),console.log(n);const d=Z(n);o(ee(d)),d.length&&d.push(S(y({},d[d.length-1]),{minute:"16:00"}));const _=d.map((h,m)=>S(y({},h),{minute:m.toString()+" "+h.minute}));r({status:"resolved",body:_})}catch(n){console.error("Error requesting historical prices: "+n),r({status:"error"})}else c===-1&&r({status:"loading"})})()},[e,c]),[t,r,a]},Oe=e=>{const[t,r]=u.exports.useState({status:"loading"}),[a,o]=u.exports.useState({min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY}),{renderFlag:c}=b();return u.exports.useEffect(()=>{(async()=>{if(c===w.chart)try{const n=await ke(e);console.log("Intraday prices retrieved: "),console.log(n);const d=Z(n);o(ee(d)),r({status:"resolved",body:d})}catch(n){console.error("Error requesting intraday prices: "+n),r({status:"error"})}else c===-1&&r({status:"loading"})})()},[e,c]),[t,a]},ee=e=>{const t=e.map(o=>o.average),r=Math.floor(Math.min(...t)),a=Math.floor(Math.max(...t)+1);return{min:r,max:a}},Ie=()=>{const e=u.exports.useRef(null);let t={left:0,x:0};const r=n=>{e.current&&(t={left:e.current.scrollLeft,x:n.clientX},document.addEventListener("mousemove",a),document.addEventListener("mouseup",o))},a=n=>{const d=n.clientX-t.x;e.current&&(e.current.scrollLeft=t.left-d)},o=n=>{document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",o)};return[e,r,n=>{e.current&&(e.current.scrollLeft=n)}]},Pe=({x:e,dx:t,y:r,dy:a,style:o,payload:c})=>s(I,{x:e+t,y:r+a,fontSize:16,style:o,children:c.value}),F=({data:e,daySize:t,style:r,isHidden:a})=>{const o=new Set(e.map(n=>n.date)),c=Math.floor(e.length/[...o].length);return s(H,{xAxisId:"top",type:"category",dataKey:"date",tick:({x:n,y:d,dx:_,dy:h,payload:m})=>s(Pe,{x:n,y:d,dx:_,dy:h,payload:m,style:S(y({},r),{margin:10})}),stroke:f.daySeparator,tickLine:!a,interval:c-1,allowDuplicatedCategory:!0,orientation:"top",axisLine:!1,dx:t?t/2-70:0,dy:-10})},De=({x:e,y:t,payload:r,style:a})=>{const o=Number.parseFloat(r.value).toFixed(0);return s(I,{x:e,y:t-1,fill:f.keys,style:a,fontSize:16,textAnchor:"end",verticalAnchor:"middle",children:o})},Me=({data:e,axisProps:t,min:r,max:a})=>s("div",{className:"static-y-axis",children:s(P,{height:"100%",width:61,children:l(D,{data:e,margin:{bottom:40},children:[T({axisProps:t,min:r,max:a,hide:!1}),F({data:e,style:t.style,isHidden:!0})]})})});function T({axisProps:e,min:t,max:r,hide:a}){const{tickSize:o,tickMargin:c,tickLine:n,stroke:d,style:_}=e;return s(ye,{type:"number",dataKey:"average",domain:[t,r],tick:({x:h,y:m,payload:p})=>s(De,{x:h,y:m,payload:p,style:_}),tickSize:o,tickCount:5,tickMargin:c,tickLine:n,stroke:d,hide:a})}const te=e=>{const t=Ce(e);if(typeof t!="string"||!t.match(/(\d?\d:\d\d){1}/))throw new Error("cleanTimeString must be a string in the format m:hh or mm:hh");{const r=Number.parseInt(t.slice(0,-2));if(r===12)return t+" PM";const a=r>12?"PM":"AM",o=t.slice(-2);return`${r%12}:${o} ${a}`}},Ce=e=>{if(typeof e=="string"){const t=e.indexOf(" ");return e.slice(t+1)}return e},Fe=({x:e,y:t,payload:r,style:a})=>{let o=te(r.value);o==="4:00 PM"&&(o="");let c=o==="9:30 AM"?"start":"middle";return s(I,{x:e,y:t+10,textAnchor:c,fill:f.keys,style:a,fontSize:12,children:o})};function se({axisProps:e,interval:t}){const{tickSize:r,tickMargin:a,tickLine:o,stroke:c,style:n}=e;return s(H,{type:"category",dataKey:"minute",tick:({x:d,y:_,payload:h})=>s(Fe,{x:d,y:_,payload:h,style:y({},n)}),axisLine:!1,interval:t-1,tickSize:r,tickMargin:a,tickLine:o,stroke:c,allowDuplicatedCategory:!1})}const Te=e=>e.slice(-2),re=({interval:e,min:t,max:r,data:a})=>{const o=new Array(Math.ceil(a.length/e)).fill("");return o.map((c,n)=>{const d=n*e,h=Number.parseInt(Te(a[d].date))%2==0?0:.1,m=a[d].minute,p=n===o.length-1?a[a.length-1].minute:a[d+e].minute;return s(ve,{x1:m,x2:p,y1:t,y2:r,fill:n%2!=0?`rgba(0, 0, 0, ${.05+h})`:`rgba(0, 0, 0, ${0})`},n)})},ae=({style:e})=>s(Ne,{isAnimationActive:!1,itemStyle:e,labelStyle:e,content:({label:t,payload:r,active:a})=>s(Ge,{label:t,payload:r,active:a})});function Ge({label:e,payload:t,active:r}){if(r&&t&&t.length){const a=te(e);return l("div",{className:"custom-tooltip",children:[s("div",{className:"custom-tooltip__label",children:a}),l("div",{className:"custom-tooltip__content",children:["Price: "," ",s("span",{children:+t[0].payload.average.toFixed(2)})]})]})}return null}const Ve=({data:e})=>{const t=new Set(e.map(a=>a.date)),r=Math.floor(e.length/[...t].length);return[...t].map((a,o)=>s(M,{x:e[o*r].minute,stroke:f.daySeparator},a))},Ue=({axisProps:e,data:t,interval:r,min:a,max:o,daySize:c})=>{const n=s(C,{isAnimationActive:!1,type:"linear",dataKey:"average",dot:!1,stroke:f.accentPrimary,strokeWidth:2}),d=s(K,{stroke:"rgba(0, 0, 0, 0.05)",strokeWidth:1});return s(P,{height:"100%",width:c*5,children:l(D,{data:t,margin:{right:0,bottom:10},children:[re({data:t,interval:r,min:a,max:o}),d,n,se({axisProps:e,interval:r}),T({axisProps:e,min:a,max:o,hide:!0}),F({data:t,daySize:c,style:e.style,isHidden:!1}),ae({style:e.style}),Ve({data:t})]})})},qe=e=>{const t=e.indexOf(" ");return e.slice(t+1)},He=({axisProps:e,previousDayData:t,currentDayData:r,interval:a,min:o,max:c,daySize:n})=>{const d=t.map(p=>S(y({},p),{minute:qe(p.minute)})),_=s(C,{isAnimationActive:!1,dataKey:"average",name:"Average",dot:!1,stroke:f.accentPrimary,data:r,strokeWidth:2}),h=s(C,{isAnimationActive:!1,type:"linear",dataKey:"average",dot:!1,stroke:f.accentPrimary,data:d,strokeWidth:2,hide:!0}),m=s(K,{stroke:"rgba(0, 0, 0, 0.05)",strokeWidth:1});return s(P,{height:"100%",width:n,children:l(D,{data:r,margin:{right:0,bottom:10},children:[re({data:d,interval:a,min:o,max:c}),m,h,_,se({axisProps:e,interval:a}),T({axisProps:e,min:o,max:c,hide:!0}),F({data:r,daySize:n,style:e.style,isHidden:!1}),s(M,{y:t[t.length-1].average,strokeDasharray:"8 5",stroke:f.accentPrimary}),s(M,{x:"09:30",strokeWidth:2,stroke:f.daySeparator}),ae({style:e.style})]})})};function L(){const e=E();return s("div",{className:"chart__placeholder",style:{opacity:e},"data-testid":"chart-placeholder"})}const Ke={fontFamily:"Roboto",userSelect:"none",fill:f.keys},G={tickSize:12,tickMargin:10,tickLine:{stroke:f.coreSecondary3},stroke:f.coreSecondary3,strokeWidth:.5,style:Ke},Be=()=>{const[e,t]=u.exports.useState(!0),{symbol:r}=N(),[a,o,c]=Ae(r),[n,d]=Oe(r),[_,h,m]=Ie(),p=3,O=1200,R=Math.min(d.min,c.min),A=Math.max(d.max,c.max);return u.exports.useEffect(()=>{if(_.current&&m(_.current.scrollWidth),!e&&n.status===i.RESOLVED&&a.body&&n.body){const g=[...a.body];g[a.body.length-1]=S(y({},g[a.body.length-1]),{average:n.body[0].average}),o({status:a.status,body:g})}},[e]),u.exports.useEffect(()=>{n.status!==i.LOADING&&a.status===i.RESOLVED?t(!1):t(!0)},[n,a]),s("div",{className:"chart__container",ref:_,onMouseDown:h,"data-testid":"historic-chart",children:(()=>{const g=[];if(a.status===i.LOADING&&n.status===i.LOADING)return s(L,{});if(a.status===i.ERROR&&n.status===i.ERROR)return s(L,{});if(a.status===i.LOADING&&n.status===i.ERROR)return s(L,{});if(a.status===i.ERROR&&n.status===i.LOADING)return s(L,{});if(a.status===i.ERROR&&n.status===i.RESOLVED)return s(L,{});if(a.status===i.LOADING&&n.status===i.RESOLVED)return s(L,{});if(a.status===i.RESOLVED){if(g.push(s(Me,{data:a.body||n.body,min:R,max:A,axisProps:G},0)),g.push(s(Ue,{daySize:O,axisProps:G,data:a.body,interval:p,min:R,max:A},1)),n.status===i.RESOLVED){if(!a.body)return;g.push(s(He,{daySize:O,axisProps:G,previousDayData:Xe(a.body),currentDayData:n.body,interval:p,min:R,max:A},2))}}else throw Error(`Unrecognised state status in Chart component: 
Historical Prices Status: ${a.status}
Intraday Prices Status: ${n.status}`);return s("div",{className:"chart__inner",children:g})})()})},Xe=e=>{try{const t=e[e.length-1].date;return e.filter(r=>r.date===t).slice(0,-1)}catch(t){console.error("Error filtering previous day in chart from prices array: "+t),console.error("Prices array: "),console.error(e)}};const Ye="https://sandbox.iexapis.com/stable/",je="token=Tpk_b2d8e00d9a3542d68e4a8767edb9f512",We=async e=>{const t=await fetch(`${Ye}/stock/${e}/news/last/3?${je}`);return await v(t)},k=(e,t)=>{const r=Math.floor(e/t),a=e%t;return[r,a]},$={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2628e6,year:3154e7},Je=e=>{let t="Error";const r=Date.now()-e,[a,o]=k(r,$.year);a>0&&(t="Over a year");const[c,n]=k(o,$.month);c>0&&(c===1?t="1 month":t=`${c} months`);const[d,_]=k(n,$.day);d>0&&(d===1?t="1 day":t=`${d} days`);const[h,m]=k(_,$.hour);h>0&&(h===1?t="1 hour":t=`${h} hours`);const[p,O]=k(m,$.minute);p>0&&(p===1?t="1 minute":t=`${p} minutes`);const[R,A]=k(O,$.second);return R>0&&(R===1?t="1 second":t=`${R} seconds`),A>0?"Now":t+" ago"};function ne(){const e=E();return l("div",{style:{opacity:e},children:[l("div",{className:"news__placeholder",children:[s("div",{className:"news__placeholder__title"}),s("div",{className:"news__placeholder__title news__placeholder__title--short"}),s("div",{className:"news__placeholder__footer"})]}),l("div",{className:"news__placeholder",children:[s("div",{className:"news__placeholder__title"}),s("div",{className:"news__placeholder__title news__placeholder__title--short"}),s("div",{className:"news__placeholder__footer"})]}),l("div",{className:"news__placeholder",children:[s("div",{className:"news__placeholder__title"}),s("div",{className:"news__placeholder__title news__placeholder__title--short"}),s("div",{className:"news__placeholder__footer"})]})]})}function ze(){const[e,t]=u.exports.useState({status:i.LOADING,body:[]}),{symbol:r}=N(),{renderFlag:a}=b();u.exports.useEffect(()=>{a===w.newsFeed?We(r).then(n=>{t({status:i.RESOLVED,body:n})}).catch(n=>{console.error("Error requesting news data: "+n),t({status:i.ERROR,body:[]})}):a===-1&&t({status:i.LOADING,body:[]})},[r,a]);const o=[Date.now()-1e5,Date.now()-36e5*2,Date.now()-864e5];return(()=>{let n=null;if(e.status===i.LOADING)n=s(ne,{});else if(e.status===i.ERROR)n=s(ne,{});else if(e.status===i.RESOLVED)n=e.body.map((d,_)=>s(Qe,{link:d.url,content:d.headline,timeSincePublication:o[_],source:d.source},d.headline));else throw Error("Unrecognised state status in news feed component: "+e.status);return l("div",{className:"newsfeed__background",children:[s("div",{className:"newsfeed__heading section-heading",children:"Latest News"}),n]})})()}function Qe({link:e,content:t,timeSincePublication:r,source:a}){const o=Je(r);return l("div",{className:"article",children:[s("a",{href:e,children:s("div",{className:"article__content headlines",children:t})}),s("div",{className:"article__time-source",children:`${o} - ${a}`})]})}const Ze="https://sandbox.iexapis.com/stable",oe=async e=>{const t=`${Ze}/stock/${e}/company?token=Tpk_b2d8e00d9a3542d68e4a8767edb9f512`,r=await fetch(t);return await v(r)};function ce(){const e=E();return l("div",{className:"summary-placeholder",style:{opacity:e},children:[s("div",{className:"summary-placeholder__title"}),s("div",{className:"summary-placeholder__content"}),s("div",{className:"summary-placeholder__content"}),s("div",{className:"summary-placeholder__content summary-placeholder__content--short"}),s("div",{className:"summary-placeholder__content"}),s("div",{className:"summary-placeholder__content summary-placeholder__content--short"}),s("div",{className:"summary-placeholder__content"}),s("div",{className:"summary-placeholder__content"}),s("div",{className:"summary-placeholder__content summary-placeholder__content--short"})]})}const et=()=>{const[e,t]=u.exports.useState({status:"loading"}),{symbol:r}=N(),{renderFlag:a}=b(),o=async()=>{try{const n=await oe(r),d=n.description.substring(0,500).concat("..."),_=S(y({},n),{description:d});t({status:i.RESOLVED,body:_})}catch(n){console.error("Error retreiving company summary data: "+n),t({status:i.ERROR})}};return u.exports.useEffect(()=>{a===w.summary?o():a===-1&&t({status:i.LOADING})},[r,a]),(()=>{let n=null;return e.status===i.LOADING&&(n=s(ce,{})),e.status===i.ERROR&&(n=s(ce,{})),e.status===i.RESOLVED&&e.body&&(n=l(B,{children:[s("div",{className:"company__name",children:`${e.body.companyName} (${e.body.symbol})`}),s("div",{className:"company__website",children:e.body.website}),s("div",{className:"company__description",children:e.body.description})]})),l("div",{className:"company__summary",children:[s("div",{className:"section-heading company-summary__heading",children:"Company Summary"}),n]})})()};async function tt(e){const t=await st(!0);return await v(t)}const st=e=>{const t=["QCOM","MSI","ERIC","AMZN","GOOGL","MSFT","DELL"],a={ok:!0,json:()=>Promise.resolve(t)},o={ok:!1};return e?Promise.resolve(a):Promise.reject(o)};function le(){const e=E();return l("div",{className:"peers__placeholder",style:{opacity:e},children:[s("div",{className:"peers__placeholder__button"}),s("div",{className:"peers__placeholder__button"}),s("div",{className:"peers__placeholder__button"}),s("div",{className:"peers__placeholder__button"}),s("div",{className:"peers__placeholder__button"}),s("div",{className:"peers__placeholder__button"}),s("div",{className:"peers__placeholder__button"})]})}const rt=()=>{const[e,t]=u.exports.useState({status:i.LOADING,body:[]}),{symbol:r,setSymbol:a}=N(),{renderFlag:o}=b();return u.exports.useEffect(()=>{o===w.topPeers?tt().then(n=>{t({status:i.RESOLVED,body:n})}).catch(n=>{console.error("Error retrieving top peers data: "+n),t({status:i.ERROR,body:[]})}):o===-1&&t({status:i.LOADING,body:[]})},[r,o]),(()=>{let n=null;if(e.status===i.LOADING)n=s(le,{});else if(e.status===i.ERROR)n=s(le,{});else if(e.status===i.RESOLVED)n=s("div",{className:"peers__buttons",children:e.body.map(d=>s("button",{className:"peer",onClick:()=>a(d),children:d},d))});else throw Error("Unrecognised state status in top peers component: "+e.status);return l("div",{className:"top-peers",children:[s("div",{className:"peers__heading section-heading",children:"Top Peers"}),n]})})()};function ie(){const e=E();return l("div",{className:"live-price__placeholder",style:{opacity:e},children:[s("div",{className:"live-price__placeholder__price"}),s("div",{className:"live-price__placeholder__arrow"}),s("div",{className:"live-price__placeholder__change"})]})}const at="https://sandbox.iexapis.com/stable",nt="token=Tpk_b2d8e00d9a3542d68e4a8767edb9f512",ot=async e=>{const t=await fetch(`${at}/stock/${e}/quote?${nt}`);return await v(t)},de=e=>{const[t,r]=u.exports.useState({status:i.LOADING}),a=`https://cloud-sse.iexapis.com/stable/stocksUS?symbols=${e}&token=pk_74a58d88b01646379d9096c2ae0713e4`,{renderFlag:o}=b();return u.exports.useEffect(()=>{if(o>w.livePrice){const c=new EventSource(a);return c.onopen=()=>{console.log("SSE connection established")},c.onmessage=n=>{JSON.parse(n.data).length!==0?r({status:i.RESOLVED,body:JSON.parse(n.data)[0]}):console.log("Just got an empty message")},c.onerror=async n=>{console.log(n),c.close();try{const d=await ot(e);r({status:i.RESOLVED,body:d})}catch(d){console.error(d),r({status:i.ERROR})}},()=>c.close()}else o===-1&&r({status:i.LOADING})},[a,e,o]),t};var ct="./assets/red-arrow.13e4b84f.svg",lt="./assets/green-arrow.ceb8179f.svg";const it=({searchFocused:e})=>{const{symbol:t}=N(),r=de(t);return(()=>{if(r.status===i.LOADING)return s(ie,{});if(r.status===i.ERROR)return s(ie,{});if(r.status===i.RESOLVED)return s(ue,{price:r.body,searchFocused:e,className:"price"});throw Error("Unrecognised state status in live price component: "+r.status)})()},ue=({price:e,searchFocused:t,className:r})=>l("div",{className:`${r}__display 
			${t?"{className}__display--hidden":null}`,children:[s("span",{className:r,children:`$${e.latestPrice.toFixed(2)}`}),l("div",{style:{display:"flex",justifyContent:"center"},children:[s("img",{className:"arrow",src:e.change>0?lt:ct,alt:"down arrow"}),s("span",{className:e.change>0?`${r} change positive`:`${r} change negative`,children:`${e.change} | ${e.changePercent.toFixed(2)}%`})]})]}),dt="https://sandbox.iexapis.com/stable/",ut=async e=>{const t=`${dt}search/${e}?token=Tpk_b2d8e00d9a3542d68e4a8767edb9f512`;try{const r=await fetch(t);return await v(r)}catch(r){console.log(r)}},_t=e=>{const[t,r]=u.exports.useState([]);return u.exports.useEffect(()=>(e&&ut(e).then(a=>{r(a.slice(0,-2))}),()=>r([])),[e]),t!=null?t:null},ht=({value:e})=>{const{setSymbol:t}=N(),r=_t(e);return s("div",{className:"suggestions",children:l("ul",{className:"suggestions__list",children:[s("div",{className:"suggestions__title",children:"Stock"}),r==null?void 0:r.map((a,o)=>l("li",{className:"suggestions__stock",onClick:()=>t(a.symbol),children:[a.symbol," - ",a.name]},o))]})})},mt=({focused:e,onFocus:t})=>{const[r,a]=u.exports.useState(""),{symbol:o}=N(),c=({target:n})=>{a(n.value)};return u.exports.useEffect(()=>{oe(o).then(n=>{a(`${n.symbol} - ${n.companyName}`)}).catch(n=>{console.error("Error requesting company info for search bar: "+n)})},[o]),l("div",{className:"searchbar",children:[s("div",{className:"field",children:s("input",{type:"text",id:"search",value:r,placeholder:"Enter a stock, symbol or currency",onChange:c,onFocus:t})}),e?s(ht,{value:r}):null]})},pt=({focused:e,setFocused:t})=>l("div",{className:e?"stock__header":"stock__header grayborder",children:[s(mt,{focused:e,onFocus:()=>t(!0)}),s(it,{searchFocused:e})]});var ft="./assets/ra-logo.70145db3.svg";function yt(){const e=E();return s("div",{className:"index__placeholder",style:{opacity:e}})}function vt(){return l("div",{className:"indices",children:[s(V,{symbol:"SPY",className:"left"}),s(V,{symbol:"DIA",className:"center"}),s(V,{symbol:"IWM",className:"right"})]})}const V=({symbol:e,className:t})=>{const r=de(e);let a;return r.body&&(a=l(B,{children:[s("div",{className:"index__symbol",children:e}),s(ue,{price:r.body,className:"index-price",searchFocused:!1})]})),r.status!==i.RESOLVED&&(a=s(yt,{})),s("div",{className:"index "+t,children:a})};function Nt(){const[e,t]=u.exports.useState(!1),{symbol:r}=N(),{setRenderFlag:a}=b();return u.exports.useEffect(()=>{a(-1);const o=setInterval(()=>{a(c=>c+1)},200);setTimeout(()=>{clearInterval(o)},Object.keys(w).length*300)},[r]),l("div",{className:"App",children:[s("div",{className:"logo-section",onClick:()=>t(!1),children:s("img",{src:ft,height:120,className:"logo",alt:"Reactive Analystics Logo"})}),l("div",{className:"main-section",children:[s(pt,{focused:e,setFocused:t}),s(Be,{}),s(Le,{}),s(vt,{})]}),l("div",{className:"news-summary-section",children:[s(ze,{}),s(et,{}),s(rt,{})]})]})}ge.render(s(be.StrictMode,{children:s(Ee,{children:s(xe,{children:s(Nt,{})})})}),document.getElementById("root"));
