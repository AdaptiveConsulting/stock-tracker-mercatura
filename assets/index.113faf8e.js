var C=Object.defineProperty,R=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var A=(e,t,s)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,k=(e,t)=>{for(var s in t||(t={}))F.call(t,s)&&A(e,s,t[s]);if(v)for(var s of v(t))T.call(t,s)&&A(e,s,t[s]);return e},b=(e,t)=>R(e,E(t));import{j as a,a as n,r as h,F as O,R as j,b as I,L as U,c as K,C as q,X as D,Y as W,T as _,d as Y,e as z}from"./vendor.ae85c455.js";const B=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function s(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerpolicy&&(c.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?c.credentials="include":r.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(r){if(r.ep)return;r.ep=!0;const c=s(r);fetch(r.href,c)}};B();const u=e=>"$"+e,$=e=>{const t=e.toString();if(t.length<=3)return t;const s=["","K","M","B","T"],o=Math.floor(e.toString().length/3),r=Math.floor(e.toString().length%3)===0?o-1:o,c=Math.floor(e)/Math.pow(1e3,r),i=e.toString().length%3==0?o-1:o;return c.toFixed(2)+s[i]};const H=({stats:{open:e,high:t,low:s,previousClose:o,week52High:r,week52Low:c,marketCap:i,peRatio:d,dividendYield:m,incomeNetPerWabsoSplitAdjusted:x,isUsMarketOpen:p,volume:S,avgTotalVolume:y}})=>a("div",{className:"stats",children:[n("h2",{className:"stats__title",children:"Key Statistics"}),a("div",{className:"stats-container",children:[a("ul",{className:"stats__list",children:[a("li",{children:["Open ",n("span",{children:e?u(e):"-"})]}),a("li",{children:["High ",n("span",{children:t?u(t):"-"})]}),a("li",{children:["Low ",n("span",{children:s?u(s):"-"})]}),a("li",{children:["Previous Close ",n("span",{children:u(o)})]})]}),a("ul",{className:"stats__list middle-section",children:[a("li",{children:["Day Range"," ",n("span",{children:t?u(`${t} - ${s}`):"-"})]}),a("li",{children:["52 Week Range"," ",n("span",{children:u(`${r} - ${c}`)})]}),a("li",{children:["Market Cap ",n("span",{children:$(i)})]}),a("li",{children:["P/E Ratio ",n("span",{children:d})]})]}),a("ul",{className:"stats__list",children:[a("li",{children:["Dividend Yield ",n("span",{children:m.toFixed(2)+"%"})]}),a("li",{children:["Earnings Per Share"," ",n("span",{children:u(x.toFixed(2))})]}),a("li",{children:["Volume ",n("span",{children:p?S:"-"})]}),a("li",{children:["Total Avg. Volume ",n("span",{children:$(y)})]})]})]})]}),L="https://sandbox.iexapis.com/stable/",V=`${L}stock/AAPL/quote?token=Tpk_b2d8e00d9a3542d68e4a8767edb9f512`,X=`${L}time-series/FUNDAMENTAL_VALUATIONS/AAPL?token=Tpk_b2d8e00d9a3542d68e4a8767edb9f512`;async function G(){try{const e=await fetch(V),t=await fetch(X),s=await e.json(),o=await t.json();return k(k({},s),o[0])}catch(e){console.log("Error: ",e)}}const Q=G(),J=()=>{const[e,t]=h.exports.useState({});return h.exports.useEffect(()=>{Q.then(s=>t(s)).catch(s=>console.error(s))},[]),n(O,{children:Object.keys(e).length===0?"Loading...":n(H,{stats:e})})},Z="https://sandbox.iexapis.com/stable/",ee="token=Tpk_b2d8e00d9a3542d68e4a8767edb9f512",te=async()=>(await fetch(`${Z}/stock/AAPL/intraday-prices?${ee}&chartInterval=2`)).json(),se=e=>{const t=Number.parseInt(e.slice(0,3));if(t===12)return e+" PM";const s=t>12?"PM":"AM",o=e.slice(2);let r=t%12,c="";return r<10?c="0"+r.toString():c=r.toString(),`${c}${o} ${s}`};const l={accentPrimary:"#aaabd1",coreSecondary2:"#f1f2f2",coreSecondary3:"#eaebeb",keys:"#7f7f7f"},ne=e=>e.filter(t=>t.average),re=()=>{const[e,t]=h.exports.useState([]);return h.exports.useEffect(()=>{te().then(s=>{const o=ne(s);t(o)}).catch(s=>console.error(s))},[]),e.length?n("div",{className:"chart-container",children:n(ae,{data:e})}):null},oe=({x:e,y:t,fill:s,payload:o,style:r,min:c})=>{let i="-";return(o.value-c)%2==0&&(i=Number.parseFloat(o.value).toFixed(0)),n(_,{x:e,y:t,fill:l.keys,style:r,fontSize:12,textAnchor:"end",verticalAnchor:"middle",children:i})},ce=({x:e,y:t,payload:s,style:o,index:r})=>{const c=se(s.value);let i=r===0?"start":"middle";return n(_,{x:e,y:t+10,textAnchor:i,fill:l.keys,style:o,fontSize:12,children:c})},ae=({data:e})=>{const t=n(K,{type:"linear",dataKey:"average",dot:!1,stroke:l.accentPrimary,strokeWidth:2}),s=n(q,{stroke:l.coreSecondary3,vertical:!1,strokeWidth:1}),o={fontFamily:"Roboto"},r=10,c=n(D,{type:"category",dataKey:"minute",interval:r-1,axisLine:!1,tickMargin:10,tick:n(ce,{}),tickSize:12,tickLine:{stroke:l.coreSecondary3},stroke:l.coreSecondary3,strokeWidth:.5,style:o}),i=e.map(f=>f.average),d=Math.floor(Math.min(...i)),m=Math.max(...i)+1,x=Math.ceil(m-d);let p=[];for(let f=0;f<x;f+=1)p.push(d+f);const S=n(W,{type:"number",dataKey:"average",stroke:l.coreSecondary3,style:o,ticks:p,tickMargin:10,tick:n(oe,{min:d}),tickSize:12,tickLine:{stroke:l.coreSecondary3},domain:[d,m]}),y=new Array(Math.ceil(e.length/r)).fill(""),w=y.map((f,g)=>{const N=g*r,M=e[N].minute,P=g===y.length-1?e[e.length-1]:e[N+r].minute;return n(j,{x1:M,x2:P,y1:d,y2:m,fill:g%2!=0?l.coreSecondary2:"rgba(0, 0, 0, 0)"},g)});return n(I,{width:"100%",height:"100%",children:a(U,{data:e,children:[w,s,t,c,S]})})};const ie="https://sandbox.iexapis.com/stable/",le="token=Tpk_b2d8e00d9a3542d68e4a8767edb9f512",de=async e=>{try{return(await fetch(`${ie}/stock/${e}/news/last/3?${le}`)).json()}catch(t){console.error(t)}};function he(){const[e,t]=h.exports.useState(null);return h.exports.useEffect(()=>{de("AAPL").then(s=>t(s))},[]),e?a("div",{className:"newsfeed__background",children:[n("h2",{className:"latest-news-text",children:"Latest News"}),e.map(s=>n(ue,{link:s.url,content:s.headline,timeSincePublication:s.datetime,source:s.source},s.headline))]}):null}function ue({link:e,content:t,timeSincePublication:s,source:o}){return a("div",{className:"news-article",children:[n("a",{href:e,children:n("h3",{children:t})}),n("p",{className:"time-source-text",children:`${s} ago - ${o}`})]})}const fe="https://sandbox.iexapis.com/stable",me=async e=>{const t=`${fe}/stock/${e}/company?token=Tpk_b2d8e00d9a3542d68e4a8767edb9f512`;return(await fetch(t)).json()};const pe=()=>{const[e,t]=h.exports.useState({});return h.exports.useEffect(()=>{me("AAPL").then(s=>{const o=s.description.substring(0,500);t(b(k({},s),{description:o}))})},[]),Object.keys(e).length===0?"Loading...":a("div",{className:"company__summary",children:[n("h2",{children:"Company Summary"}),n("div",{className:"company__name",children:`${e.companyName} (${e.symbol})`}),n("div",{className:"company__website",children:e.website}),n("div",{className:"company__description",children:e.description})]})};function ye(){return a("div",{className:"App",children:[n("div",{className:"logo-section"}),a("div",{className:"main-section",children:[n(re,{}),n(J,{})]}),a("div",{className:"news-summary-section",children:[n(he,{}),n(pe,{})]})]})}Y.render(n(z.StrictMode,{children:n(ye,{})}),document.getElementById("root"));
