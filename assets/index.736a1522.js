var T=Object.defineProperty,O=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var v=(e,t,s)=>t in e?T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,b=(e,t)=>{for(var s in t||(t={}))I.call(t,s)&&v(e,s,t[s]);if(_)for(var s of _(t))U.call(t,s)&&v(e,s,t[s]);return e},A=(e,t)=>O(e,F(t));import{j as a,a as r,r as l,F as q,R as D,b as K,L as j,c as B,C as G,X as H,Y as Q,T as L,d as V,e as X}from"./vendor.ae85c455.js";const z=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerpolicy&&(c.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?c.credentials="include":o.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}};z();const p=e=>"$"+e,M=e=>{const t=e.toString();if(t.length<=3)return t;const s=["","K","M","B","T"],n=Math.floor(e.toString().length/3),o=Math.floor(e.toString().length%3)===0?n-1:n,c=Math.floor(e)/Math.pow(1e3,o),i=e.toString().length%3==0?n-1:n;return c.toFixed(2)+s[i]};const W=({stats:{open:e,high:t,low:s,previousClose:n,week52High:o,week52Low:c,marketCap:i,peRatio:d,dividendYield:u,incomeNetPerWabsoSplitAdjusted:f,volume:h,avgTotalVolume:x}})=>a("div",{className:"stats",children:[r("h2",{className:"stats__title",children:"Key Statistics"}),a("div",{className:"stats-container",children:[a("ul",{className:"stats__list",children:[a("li",{children:["Open ",r("span",{children:e?p(e):"-"})]}),a("li",{children:["High ",r("span",{children:t?p(t):"-"})]}),a("li",{children:["Low ",r("span",{children:s?p(s):"-"})]}),a("li",{children:["Previous Close ",r("span",{children:p(n)})]})]}),a("ul",{className:"stats__list middle-section",children:[a("li",{children:["Day Range"," ",r("span",{children:t?p(`${t} - ${s}`):"-"})]}),a("li",{children:["52 Week Range"," ",r("span",{children:p(`${o} - ${c}`)})]}),a("li",{children:["Market Cap ",r("span",{children:M(i)})]}),a("li",{children:["P/E Ratio ",r("span",{children:d})]})]}),a("ul",{className:"stats__list",children:[a("li",{children:["Dividend Yield ",r("span",{children:(u==null?void 0:u.toFixed(2))+"%"})]}),a("li",{children:["Earnings Per Share"," ",r("span",{children:p(f==null?void 0:f.toFixed(2))})]}),a("li",{children:["Volume ",r("span",{children:h!=null?h:"-"})]}),a("li",{children:["Total Avg. Volume ",r("span",{children:M(x)})]})]})]})]}),w="https://sandbox.iexapis.com/stable/";async function Y(e){const t=`${w}stock/${e}/quote?token=Tpk_b2d8e00d9a3542d68e4a8767edb9f512`,s=`${w}time-series/FUNDAMENTAL_VALUATIONS/${e}?token=Tpk_b2d8e00d9a3542d68e4a8767edb9f512`;try{const n=await fetch(t),o=await fetch(s),c=await n.json(),i=await o.json();return b(b({},c),i[0])}catch(n){console.log("Error: ",n)}}const P=l.exports.createContext("AAPL"),S=()=>l.exports.useContext(P),Z=({children:e})=>{const[t,s]=l.exports.useState("AAPL");return r(P.Provider,{value:{symbol:t,setSymbol:s},children:e})},J=()=>{const[e,t]=l.exports.useState({}),{symbol:s}=S();return l.exports.useEffect(()=>{Y(s).then(n=>t(n)).catch(n=>console.error(n))},[s]),r(q,{children:Object.keys(e).length===0?"Loading...":r(W,{stats:e})})},ee="https://sandbox.iexapis.com/stable/",te="token=Tpk_b2d8e00d9a3542d68e4a8767edb9f512",se=async e=>(await fetch(`${ee}/stock/${e}/intraday-prices?${te}&chartInterval=10`)).json(),ne=e=>{if(typeof e!="string"||!e.match(/(\d?\d:\d\d){1}/))throw new Error("timeString must be a string in the format m:hh or mm:hh");{const t=Number.parseInt(e.slice(0,-2));if(t===12)return e+" PM";const s=t>12?"PM":"AM",n=e.slice(-2);return`${t%12}:${n} ${s}`}};const m={accentPrimary:"#aaabd1",coreSecondary2:"#f1f2f2",coreSecondary3:"#eaebeb",keys:"#7f7f7f"},re=e=>e.filter(t=>t.average),oe=()=>{const[e,t]=l.exports.useState([]),{symbol:s}=S();return l.exports.useEffect(()=>{se(s).then(n=>{const o=re(n);t(o)}).catch(n=>console.error(n))},[s]),e.length?r("div",{className:"chart-container",children:r(ie,{data:e,interval:4})}):null},ce=({x:e,y:t,payload:s,style:n,min:o})=>{let c="-";return(s.value-o)%2==0&&(c=Number.parseFloat(s.value).toFixed(0)),r(L,{x:e,y:t,fill:m.keys,style:n,textAnchor:"end",verticalAnchor:"middle",children:c})},ae=({x:e,y:t,payload:s,style:n,index:o})=>{const c=ne(s.value);let i=o===0?"start":"middle";return r(L,{x:e,y:t+10,textAnchor:i,fill:m.keys,style:n,children:c})},ie=({data:e,interval:t})=>{const s=r(B,{type:"linear",dataKey:"average",dot:!1,stroke:m.accentPrimary,strokeWidth:2}),n=r(G,{stroke:m.coreSecondary3,vertical:!1,strokeWidth:1}),o={fontFamily:"Roboto"},c=r(H,{type:"category",dataKey:"minute",interval:t-1,axisLine:!1,tickMargin:10,tick:r(ae,{}),tickSize:12,tickLine:{stroke:m.coreSecondary3},stroke:m.coreSecondary3,strokeWidth:.5,style:o}),i=e.map(g=>g.average),d=Math.floor(Math.min(...i)),u=Math.max(...i)+1,f=Math.ceil(u-d);let h=[];for(let g=0;g<f;g+=1)h.push(d+g);const x=r(Q,{type:"number",dataKey:"average",stroke:m.coreSecondary3,style:o,ticks:h,tickMargin:10,tick:r(ce,{min:d}),tickSize:12,tickLine:{stroke:m.coreSecondary3},domain:[d,u]}),y=new Array(Math.ceil(e.length/t)).fill(""),C=y.map((g,N)=>{const $=N*t,R=e[$].minute,E=N===y.length-1?e[e.length-1]:e[$+t].minute;return r(D,{x1:R,x2:E,y1:d,y2:u,fill:N%2!=0?m.coreSecondary2:"rgba(0, 0, 0, 0)"},N)});return r(K,{width:"100%",height:"100%",children:a(j,{data:e,children:[C,n,s,c,x]})})};const le="https://sandbox.iexapis.com/stable/",de="token=Tpk_b2d8e00d9a3542d68e4a8767edb9f512",ue=async e=>{try{return(await fetch(`${le}/stock/${e}/news/last/3?${de}`)).json()}catch(t){console.error(t)}},k=(e,t)=>{const s=Math.floor(e/t),n=e%t;return[s,n]},he=e=>{const t=e-Date.now(),[s,n]=k(t,3154e7);if(s>0)return"Over a year";const[o,c]=k(n,2628e6);if(o>0)return o>1?"1 month":`${o} months`;const[i,d]=k(c,864e5);if(i>0)return i>1?"1 day":`${i} days`;const[u,f]=k(d,36e5);if(u>0)return u>1?"1 hour":`${u} hours`;const[h,x]=k(f,6e4);if(h>0)return h>1?"1 minute":`${h} minutes`;const y=x/1e3;return y>0?y>1?"1 second":`${y} seconds`:"Error"};function me(){const[e,t]=l.exports.useState(null),{symbol:s}=S();return l.exports.useEffect(()=>{ue(s).then(n=>{t(n)})},[s]),e?a("div",{className:"newsfeed__background",children:[r("h2",{className:"latest-news-text",children:"Latest News"}),e.map(n=>r(fe,{link:n.url,content:n.headline,timeSincePublication:n.datetime,source:n.source},n.headline))]}):null}function fe({link:e,content:t,timeSincePublication:s,source:n}){const o=he(s);return a("div",{className:"article",children:[r("a",{href:e,children:r("h3",{className:"article__content",children:t})}),r("p",{className:"article__time-source",children:`${o} ago - ${n}`})]})}const pe="https://sandbox.iexapis.com/stable",ye=async e=>{const t=`${pe}/stock/${e}/company?token=Tpk_b2d8e00d9a3542d68e4a8767edb9f512`;return(await fetch(t)).json()};const ge=()=>{const[e,t]=l.exports.useState({}),{symbol:s}=S();return l.exports.useEffect(()=>{ye(s).then(n=>{const o=n.description.substring(0,500);t(A(b({},n),{description:o}))})},[s]),Object.keys(e).length===0?"Loading...":a("div",{className:"company__summary",children:[r("h2",{children:"Company Summary"}),r("div",{className:"company__name",children:`${e.companyName} (${e.symbol})`}),r("div",{className:"company__website",children:e.website}),r("div",{className:"company__description",children:e.description})]})};async function xe(e){return Promise.resolve(["QCOM","MSI","ERIC","AMAZN","GOOGL","MSFT","DELL"])}const Se=()=>{const[e,t]=l.exports.useState(),{symbol:s,setSymbol:n}=S();return l.exports.useEffect(()=>{xe().then(o=>{console.log(o),t(o),console.log(e)})},[s]),a("div",{className:"top_peers",children:[r("h2",{children:"Top Peers"}),r("div",{className:"peers__buttons",children:e==null?void 0:e.map(o=>r("button",{className:"peer",onClick:()=>n(o),children:o},o))})]})};function ke(){return a("div",{className:"App",children:[r("div",{className:"logo-section"}),a(Z,{children:[a("div",{className:"main-section",children:[r(oe,{}),r(J,{})]}),a("div",{className:"news-summary-section",children:[r(me,{}),r(ge,{}),r(Se,{})]})]})]})}V.render(r(X.StrictMode,{children:r(ke,{})}),document.getElementById("root"));
